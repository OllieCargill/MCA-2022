<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>My Piece in Verovio</title>
    <style>
    html, body {
        width: 100%;
        height: 100%;
        margin: 0;
    }
    .header {
        padding: 20px;
        height:80px;
    }
    #app {
        height: auto;
        width: 100%;
        position: absolute;
        top: 80px;
        bottom: 0;
    }
    </style>
</head>
<body>
    <div class="header"><h1>Week 3</h1>
        <div style="position:relative; top:470px;">
        <p>The three elements I have chosen to compare between MusicXML and MEI are: dynamics, clef and note.</p>
            <h2 style="color:blue;"><u>Dynamics</u></h2>
            <h4><u>Music XML</u></h4>
            <p>Dynamics in MusicXML are represented by the <i>dynamics</i> element. This element is used for dynamic markings that are represented by text on the score. "Wedge indications" (crescendo, diminuendo) cannot be represented by the dynamics element. The children elements represent what type of dynamic is to be used; MusicXML uses abbreviations for the different dynamic markings, for example sf for sforzando. A constraint of this element is that it requires a placement attribute. The <i>note</i> element's placement attribute is used when the dynamics are associated with a particular note.On the other hand, the <i>direction</i> element's placement attribute is used when the dynamics are associated with a direction.</p>
            <h4><u>MEI</u></h4>
            <p>Dynamics in MEI are represented by the <i>dynam</i> element. Like MusicXML, this element is used only to represent dynamic markings which are represented by text. For example, forte (f), piano (p) or mezzo-forte (mf). This element cannot be used for dynamics represented in other forms, like a crescendo or diminuendo which are represented graphically.  A constraint of this element in MEI is that it must have a specified starting point (if one is not stated, then this is considered a semantic error), using one of the following attributes: startid, tstamp, tstamp.ges or tstamp.real. Whereas an ending point can be specified, but is not required.</p>
            <h2 style="color:red;"><u>Clef</u></h2>
            <h4><u>Music XML</u></h4>
            <p>In MusicXML, clefs are represented by the <i>clef</i> element. A child element known as <i>sign</i> is required in order to specify the type of clef that is going to be used. The parent element of <i>clef</i> known as <i>attributes</i> is required. This element concerns musical elements like key signatures, time signatures and clefs. Clefs in MusicXML will automatically be added to the default position (the start of the stave), unless stated otherwise with an attribute. Using the <i>additional</i> attribute will allow you to add clef in a non-standard position, or add another clef on the same line of music. The <i>additional</i> attribute will be set to <i>yes</i>.</p>   
            <h4><u>MEI</u></h4>
            <p>In MEI, the <i>clef</i> element is used specifically in the cases where you want to use a non-standard clef position, multiple clefs on a single stave, or you want the clef to have a specific size or colour. If using this attribute to change the clef size, the constraints are that the clef's position must be equal to or less than the number of lines on the stave. If a standard clef is required, then one would use the <i>staff</i> element's clef attribute. Unlike MusicXML where you use the <i>clef</i> element regardless.</p>
            <h2 style="color:green;"><u>Tie</u></h2>
            <h4><u>Music XML</u></h4>
            <p>In MusicXML, the <i>tie</i> element is used to indicate that a tie will start or end on this note. MusicXML uses the <i>tie</i> element to signify the sound of the tie only, and not the visual representation on the notation. In stead, for this, MusicXML uses another element:<i>tied</i>. To join two notes together, you would use a <i>tied</i> element with the attribute <i>type="start"</i> on the first note, and again the <i>tied</i> element with the attribute <i>type="stop"</i> on the last note. <i>type="let-ring"</i> is used with the tied element if the tie represents that the notes should be played undampened. The <i>tied-type</i> attribute is necessary when using the <i>tied</i> element, otherwise there will be no start or end point specified for the tie.</p>
            <h4><u>MEI</u></h4>
            <p>In MEI, there is only one <i>tie</i> element, as opposed to the distinction between <i>tie</i> and <i>tied</i> that MusicXML makes. Like MusicXML however, the <i>tie</i> element in MEI needs to have an established start point and end point with the <i>startid</i> and <i>endid</i> attributes.</p> </div>
            <div id="app">Verovio is loading...</div>
    <script type="module">
        import 'https://www.verovio.org/javascript/app/verovio-app.js';
        
        const options = {
            defaultView: 'responsive', // default is 'responsive', alternative is 'document'
            defaultZoom: 3, // 0-7, default is 4
            enableResponsive: true, // default is true
            enableDocument: true // default is true
        }
        
        // A MusicXML file
        var file = 'labtasks/week3/Ave_Maris_Stella.mei';
        // A MEI file
        //var file = 'labtasks/week3/Ave_Maris_Stella.mei';
        
        const app = new Verovio.App(document.getElementById("app"), options);
        fetch(file)
            .then(function(response) {
                return response.text();
            })
            .then(function(text) {
                app.loadData(text);
            });
    </script>
</body>
</html>
